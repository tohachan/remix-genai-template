---
description: 
globs: 
alwaysApply: true
---
---
description: "This rule is attached to every chat and command+k request"
globs: []
alwaysApply: true
---

# Feature-Sliced Design Project Structure (Remix)

This project follows **Feature-Sliced Design (FSD)** architectural methodology within the Remix `app/` directory. All code organization must adhere to the standardized FSD structure.

## Project Structure Overview

```
project-root/
â”œâ”€â”€ app/                    â† Remix application directory
â”‚   â”œâ”€â”€ shared/            â† FSD shared layer
â”‚   â”œâ”€â”€ entities/          â† FSD entities layer
â”‚   â”œâ”€â”€ features/          â† FSD features layer  
â”‚   â”œâ”€â”€ widgets/           â† FSD widgets layer
â”‚   â”œâ”€â”€ pages/             â† FSD pages layer
â”‚   â”œâ”€â”€ routes/            â† Remix routing convention
â”‚   â”œâ”€â”€ entry.client.tsx   â† Remix entry points
â”‚   â”œâ”€â”€ entry.server.tsx   â† Remix entry points
â”‚   â”œâ”€â”€ root.tsx           â† Remix root component
â”‚   â””â”€â”€ tailwind.css       â† Global styles
â”œâ”€â”€ public/                â† Static assets
â”œâ”€â”€ package.json           â† Dependencies
â””â”€â”€ vite.config.ts         â† Build configuration
```

## Required Layer Structure (inside `app/`)

The `app/` directory **must** contain these FSD layers when applicable:

- `ğŸ“ app/shared/` â€” Reusable functionality detached from business specifics
- `ğŸ“ app/entities/` â€” Business entities the project works with (user, product, etc.)
- `ğŸ“ app/features/` â€” Reusable product feature implementations that bring business value
- `ğŸ“ app/widgets/` â€” Large self-contained UI chunks delivering complete use cases
- `ğŸ“ app/pages/` â€” Full pages or large page sections for nested routing

**Note:** Not all layers are required, but their names must follow FSD standards exactly.

## Layer-Specific Rules

### Shared Layer
- **NO slices** â€” divide directly into segments
- Structure: `app/shared/[segment]/`
- Example: `app/shared/ui/`, `app/shared/lib/`, `app/shared/api/`

### Entities, Features, Widgets, Pages Layers  
- **MUST have slices** â€” divide by business domain first
- Structure: `app/[layer]/[slice]/[segment]/`
- Example: `app/pages/home/ui/`, `app/entities/user/model/`, `app/features/auth/api/`

## Standard Segments

Use these conventional segment names:

- `ui/` â€” UI components, formatters, styles
- `api/` â€” Backend interactions, requests, data types  
- `model/` â€” Data schemas, stores, business logic
- `lib/` â€” Slice-specific library code
- `config/` â€” Configuration files, feature flags

## Import Rules (Critical)

**Layer Import Hierarchy** (top to bottom):
1. `app/pages/` â†’ can import from: widgets, features, entities, shared
2. `app/widgets/` â†’ can import from: features, entities, shared
3. `app/features/` â†’ can import from: entities, shared
4. `app/entities/` â†’ can import from: shared
5. `app/shared/` â†’ can only import from: shared

**Special Remix Files:**
- `app/routes/` â†’ can import from: pages, widgets, features, entities, shared
- `app/root.tsx` â†’ can import from: shared (for global styles/providers)
- `app/entry.*.tsx` â†’ can import from: shared (for initialization)

**Slice Import Rules:**
- Slices **CANNOT** import from other slices on the same layer
- This ensures high cohesion and low coupling

## File Placement Requirements

When creating new files in `app/`, **always**:

1. **Identify the appropriate layer** based on the code's purpose
2. **Create or use existing slice** (except for shared)  
3. **Choose the correct segment** based on technical purpose
4. **Verify import rules** are not violated

## Examples

**âœ… Correct Structure:**
```
app/
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ ui/button.tsx
â”‚   â”œâ”€â”€ lib/utils.ts
â”‚   â””â”€â”€ api/client.ts
â”œâ”€â”€ entities/
â”‚   â””â”€â”€ user/
â”‚       â”œâ”€â”€ model/types.ts
â”‚       â””â”€â”€ api/requests.ts
â”œâ”€â”€ features/
â”‚   â””â”€â”€ auth/
â”‚       â”œâ”€â”€ ui/LoginForm.tsx
â”‚       â””â”€â”€ api/login.ts
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ home/
â”‚       â””â”€â”€ ui/index.tsx
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ _index.tsx
â”œâ”€â”€ root.tsx
â””â”€â”€ tailwind.css
```

**âŒ Incorrect:**
- `app/components/` (use `app/shared/ui/` or appropriate layer)
- `app/utils/` (use `app/shared/lib/`)  
- `app/pages/home.tsx` (missing segments, should be `app/pages/home/ui/index.tsx`)
- Cross-layer violations (features importing from widgets)

## Before Adding Files

1. **Determine layer** â€” What is this code's primary purpose?
2. **Identify slice** â€” What business domain does it belong to? (skip for shared)
3. **Choose segment** â€” What technical purpose does it serve?
4. **Check imports** â€” Verify no layer/slice rule violations
5. **Verify path** â€” Ensure file is inside `app/` directory

## Remix-Specific Considerations

- **Routes**: Use `app/routes/` for Remix routing, import page components from `app/pages/`
- **Global Styles**: Keep in `app/` root or `app/shared/ui/`
- **Entry Points**: `app/entry.*.tsx` and `app/root.tsx` follow Remix conventions
- **Build Config**: `vite.config.ts` stays in project root
